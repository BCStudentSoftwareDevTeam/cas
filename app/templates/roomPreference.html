{% extends "base.html" %}
{% set currentPage = "no" %} <!--This is used for the sidebart-->
<!--Page Content -->

{% block body %}

<!--THE ROOM PREFERENCE TABLE-->

<h1 class="text-center"><strong>Room Preference</strong></h1>
<div class="card">
    <table class="table">
        <thead class="thead-dark">
            <th scope="col"><h4><strong> Your Course(s)</strong></h4></th>
            <th scope="col"> <h4><strong>Section </strong></h4></th>
            <th scope="col"><h4> <strong>Time</strong> </h4></th>
            <th scope="col"><h4><strong> # of Students</strong></h4> </th>
            <th scope="col"><h4><strong>Preference 1</strong></h4></th>
            <th scope="col"><h4><strong> Preference 2</strong></h4></th>
            <th scope="col"><h4><strong>Preference 3 </strong></h4></th>
            <!--<th scope="col"> <h4><strong>Notes </strong></h4></th>-->
        </thead>
            <!--LOOPING THROUGH THE NUMBER OF COURSES WE HAVE THAT NEED THE FOLLOWING DATA.-->
            {# Looping through each course in RoomPreference #}
            {% for roompreference in roompreferences %}
                <tr class = "courseTablerow1" class="selectTermModal" id = "{{roompreference.pID}}">
                    <td id = "courseInfo">{{roompreference.course.prefix}} - {{roompreference.course.bannerRef.number}}</td>
                    <td> {{roompreference.course.section}}</td> <br>
                    <td> {{roompreference.course.time}}</td>
                    <td> {{roompreference.course.capacity}} </td>
                    {% set p1 = [roompreference.pref_1, roompreference.pref_2, roompreference.pref_3] %}
                    {% for pref in p1 %}
                        <td>
                            <button {% if pref != None %} 
                                    value="{{pref.rID}}" 
                                    onclick="setPreference({{loop.index}},{{roompreference.course.cId}})" 
                                {% else %}
                                    value="0" 
                                    onclick = "setPreference({{loop.index}},{{roompreference.course.cId}})"     
                                {% endif %} 
                                    id="prefButton{{loop.index}}_{{roompreference.course.cId}}" 
                                    class="btn btn-primary btn-md" 
                                    type="button" 
                                    data-toggle="collapse" 
                                    data-target="#collapseExample" 
                                    aria-expanded="false" 
                                    aria-controls="collapseExample">
                                        {% if pref != None %}{{pref.building.shortName}} 
                                            {{pref.number}} 
                                        {% else %} Any Room Works {% endif %} 
                            </button>
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
    </table>
</div>
<!-- Here is the modal for the notes-->
<div id="myModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Modal Window</h4>
                </div>
                <div class="modal-body">
                    <form role="form">
                        <div class="form-group">
                            <label for="message-text" class="control-label">Note:</label>
                            <textarea class="form-control" id="message-text"></textarea>
                        </div>
                    </form>
                </div>
                <div class= "notes-button" align="left" style="margin-left:.4em;">
                    <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#myModal" data-title="Add Another Preference" onclick="setNotePref()">Add Another Preference</button>
                    <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#myModal" data-title="No Other Rooms Work">No Other Rooms Work</button>
                    <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#myModal" data-title="Any Room works">Any Room works</button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <!--ROOM SELECTION COLLAPSE WHICH CONTAINS THE INFORMATION ABOUT THE ROOM AND LEADS INTO THE ROOM SELECTIONS-->
<div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
    <form>
        <div class="collapse" id="collapseExample" >
            <table class="table table-dark">
                <tr>
                    <td>
                        <div class="modal-content" disabled>
                            <div class="modal-header">
                               <h4><strong>Room Information:</strong></h4> 
                            </div>
                            <div class="modal-body">
                                <div class="container">
                                    <div class="row"> 
                                        <select onchange= "goto_rdetails(this)" id="selectedRoom" class="selectpicker form-control" data-live-search="true" name="keyValue">
                                            <option disabled="disabled" value = "-1" id="donotTouch" >Select your Room Preference</option>
                                            <option id="0" value = "0">  Any Room Works </option>
                                            <!--{# LOOPS THROUGH THE NUMBER OF ROOMS AVAILABLE IN THE DUMMY DATA AND POPULATES THE SELECT DROP DOWN SECTION #}-->
                                            {% for r in room %}
                                                <option id="{{r['rID']}}" value = "{{r['rID']}}" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample" >{{r['building']['shortName']}} {{r['number']}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>  
                                    <div class="row">
                                           <div  id = "Details" class="collapse" id="collapseExample">
                                               <div class="col-sm-6">
                                                    
                                                   <div class="row">
                                                    <label  style="float: left;">Room Number :  </label><div id="roomNumber" >{{room.number}}</div>
                                                   </div>    
                                                    <div class="row">
                                                        <label  style="float:left;" > Room Capacity:</label>  <div id="roomCapacity" style="left;">{{room.maxCapacity}}</div>
                                                    </div>
                                                    <div class="row"> 
                                                       <label  style="float:left;" >Visual Accessibility:</label><input id="visualAcc" type="checkbox" name="VisualAcc" value="VisualAcc" {% if room.visualAcc  == True %} checked {% endif %} onclick="return false;"><br>
                                                    </div>
                                                    <div class="row">
                                                        <label  style="float:left;" >Audio Accessibility   : </label> <input id="audioAcc" type="checkbox" name="Audio Acc" value="Audio Acc" {% if room.audioAcc == True %} checked {% endif %} onclick="return false;"><br>
                                                    </div>
                                                    <div class="row">
                                                        <label  style="float:left;" >Physical Accessibilty :</label> <input id="physicalAcc" type="checkbox" name="Physical Acc" value="Physical Acc" {% if room.physicalAcc == True %} checked {% endif %} onclick="return false;"><br>
                                                    </div>
                                                    <div class="row">
                                                      <label  style="float:left;" >Specialized Equipment : </label>  <div id="specializedEq">{{room.specializedEq}}</div>
                                                    </div>
                                                    <div class="row">
                                                        <label  style="float: left;">Movable Furniture:</label> <div id="movableFurniture">  {{room.movableFurniture}}</div>
                                                    </div>
                                                    <div class="row">
                                                         <label  style="float:left;" >Special Feature Notes   : </label><div id="specialFeatures">{{room.specialFeatures}}</div>
                                                    </div>
                                                    <div class="row">
                                                        <label  style="float:left;" > Education tech: </label> <a href="#" id="openDialog"> View </a>
                                                    </div>
                                                
                                                </div>
                                                 
                                            
                                              
                                        
                                    <div id ="dialog-modal" class="col-sm-4" title="Education Tech" style="display:none">
                                        <table>
                                        <tr>
                                            {% for items in educationTech %}                                                   
                                          <td>       
                                                    Chalkboards: {{items.chalkboards}} <br> 
                                                     Computers(instructors) : {{items.instructor_computers}}  <br>
                                                     Projectors             : {{items.projectors}}  <br>
                                                     Podium                 : {{items.podium}} <br> 
                                                     Smartboards            : {{items.smartboards}} <br>
                                                     Students Workstations  : {{items.student_workspace}} <br>
                                                     Whiteboards            : {{items.whiteboards}} <br>
                                                     <input type="checkbox" name="dvd" value="dvd" {% if items.audio == True %} 
                                                    checked {% endif %} onclick="return false;">Audio<br>
                                                     <input type="checkbox" name="dvd" value="dvd" {% if items.blu_ray == True %} 
                                                    checked {% endif %} onclick="return false;">Blu-Ray<br>
                                                    <input type="checkbox" name="dvd" value="dvd" {% if items.doc_cam == True %} 
                                                    checked {% endif %} onclick="return false;">DOC-Cam<br>            
                                                    <input type="checkbox" name="dvd" value="dvd" {% if items.dvd == True %} 
                                                    checked {% endif %} onclick="return false;">DVD<br>
                                                     <input type="checkbox" name="extro" value="extro" {% if items.extro == True %} 
                                                    checked {% endif %} onclick="return false;">Extro <br> 
                                                     <input type="checkbox" name="dvd" value="mondopad" {% if items.dvd == True %} 
                                                    checked {% endif %} onclick="return false;">DV <br>
                                                    <input type="checkbox" name="dvd" value="dvd" {% if items.tech_chart == True %} 
                                                    checked {% endif %} onclick="return false;">Tech-Chart<br>
                                                    <input type="checkbox" name="dvd" value="dvd" {% if items.vhs == True %} 
                                                    checked {% endif %} onclick="return false;">VHS<br>
                                            </td>
                                            {% endfor %}
                                        
                                        </tr>
                                        </table>                                            
                                    </div>
                                    <div class="row">
                                                  <div class="col-lg-5 " align="center" > 
                                               
                                                   <strong align="center"><h3 style="margin-top: .4em;"><strong>Course Conflicts</strong></h3></strong>
                                                   
                                                    <table border=4>
                                                        
                                                      <th><h4 style="margin-top: .4em;"><strong>Professor(s)</strong></h4><hr style="height:3px;border:none;background-color:#333;margin-bottom: .4em;"></th>
                                                      <th><h4 style="margin-top: .4em;"><strong>Course(s)</strong></h4><hr style="height:3px;border:none;background-color:#333;margin-bottom: .4em"></th>
                                                    
                                                      <tr>
                                                         <td class="col-md-2">{{users.firstName}} {{users.lastName}} </td>
                                                         <td class="col-md-1">{{course.bannerRef }}</td>
                                                      </tr>
                                                      <tr>
                                                         <td class="col-md-2">{{users.firstName}} {{users.lastName}} </td>
                                                         <td class="col-md-1">{{course.bannerRef }}</td>
                                                       </tr>
                                                       <tr>
                                                           <td class="col-md-2">{{users.firstName}} {{users.lastName}} </td>
                                                           <td class="col-md-1">{{course.bannerRef }}</td>
                                                       </tr>
                                                         <tr> <td class="col-md-2">{{users.firstName}} {{users.lastName}} </td>
                                                         <td class="col-md-1">{{course.bannerRef }}</td>
                                                       </tr>
                                                     
                                                    </table>
                                                    
                                                    
                                                 </div>
                                                   
                                                 </div>
                                                       <div class="row">
                                                           <button name="assignButton" id="assignButton" value="" class="btn btn-primary" onclick="setButtonText(this)" type="button" style="float: right;" data-toggle="modal" data-target="#exampleModal"> Select</button>
                                                       </div>
                                                       

                                            

                                                </div>

                                            </div>

                                            
                                            </div>
                                    </div>
                                    
                                    
                                  
                                                     Hamza added a Modal 
                                                      <div class="modal-dialog" role="document">
                                                        <div class="modal-content">
                                                          <div class="modal-header" style="background-color: #2c3e50;">
                                                            <h3 class="modal-title" style="color: white;" id="exampleModalLabel">Please read:</h3>
                                                            <button type="button" style="color: white; line-height: 0" class="close" data-dismiss="modal" aria-label="Close">
                                                              <span aria-hidden="true">&times;</span>
                                                            </button>
                                                          </div>
                                                          <div class="modal-body">
                                                            <strong>Are you sure you want to assign ROOM to COURSE?</strong>
                                                          </div>
                                                          <div class="modal-footer" padding: "10px">
                                                            <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
                                                            <button type="button" class="btn btn-primary">Yes</button>
                                                          </div>
                                                        </div>
                                                      </div>  
                                    
                                    
                            </div>
                        </div>
                    </div>
            </div>

        </td>
       
    </tr>
    
    </table>
    
</div>
        





{% endblock %}

{% block belowContainer %}
<link rel="stylesheet" href="/static/cs/roomPreference.css">
<script type="application/javascript" src="/static/js/local/roompreference.js"></script>
{% endblock %} 
                                                       <div class="row">
                                                           <button name="assignButton" id="assignButton" value="" class="btn btn-primary" onclick="setButtonText(this)" type="button" style="float: right;" data-toggle="modal" data-target="#exampleModal"> Select</button>
                                                       </div>
                                                       

                                            

                                                </div>

                                            </div>

                                            
                                            </div>
                                    </div>
                                    
                                    
                                  
                                                     Hamza added a Modal 
                                                      <div class="modal-dialog" role="document">
                                                        <div class="modal-content">
                                                          <div class="modal-header" style="background-color: #2c3e50;">
                                                            <h3 class="modal-title" style="color: white;" id="exampleModalLabel">Please read:</h3>
                                                            <button type="button" style="color: white; line-height: 0" class="close" data-dismiss="modal" aria-label="Close">
                                                              <span aria-hidden="true">&times;</span>
                                                            </button>
                                                          </div>
                                                          <div class="modal-body">
                                                            <strong>Are you sure you want to assign ROOM to COURSE?</strong>
                                                          </div>
                                                          <div class="modal-footer" padding: "10px">
                                                            <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
                                                            <button type="button" class="btn btn-primary">Yes</button>
                                                          </div>
                                                        </div>
                                                      </div>  
                                    
                                    
                            </div>
                        </div>
                    </div>
            </div>

        </td>
       
    </tr>
    
    </table>
    
</div>
        





{% endblock %}

{% block belowContainer %}
<link rel="stylesheet" href="/static/cs/roomPreference.css">
<script type="application/javascript" src="/static/js/local/roompreference.js"></script>
{% endblock %} 

